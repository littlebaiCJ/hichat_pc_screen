<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>大屏幕</title>
    <link rel="stylesheet" type="text/css" href="css/default.css">
</head>
<body>
<div class="wrap">
    <aside>
        <div class="bar-info">
            <img src="images/tx1.jpg" alt=""> <span>SHOWBAR</span>
        </div>
        <div class="drag-content">
            <div class="draglist" id="drag-rank" draggable="true">
                <span class="iconfont icon-shourubang"></span> 排行榜
            </div>
            <div class="draglist" id="drag-chat" draggable="true">
                <span class="iconfont icon-liaotian"></span> 聊天窗口
            </div>
            <div class="draglist" id="drag-qrcode" draggable="true">
                <span class="iconfont icon-erweima"></span> 二维码
            </div>
            <div class="draglist" id="drag-welcome" draggable="true">
                <span class="iconfont icon-51yinliang"></span> 欢迎语
            </div>
            <div class="draglist" draggable="true">
                <span class="iconfont icon-logo"></span> logo层
            </div>
            <div class="draglist" draggable="true">
                <span class="iconfont icon-lunborongqi"></span> 图片轮播
            </div>
            <div class="setting-item" id="onOff-setting">
                <span class="iconfont icon-shezhi"></span> 大屏幕设置
            </div>
        </div>
        <div class="ctrl-scale-onOff">
            <span>屏幕缩放</span> <label class="label-switch"> <input id="isScale" type="checkbox">
            <div class="checkbox"></div>
        </label>
        </div>
        <div class="ctrl-move-onOff">
            <span>屏幕拖动</span>
            <label class="label-switch">
                <input id="isMove" type="checkbox">
                <div class="checkbox"></div>
            </label>
        </div>
        <span id="control-element" class="iconfont icon-aside-right"></span>
    </aside>
    <div class="main-content" id="main-content" style="background-image: url(images/bg.jpg);">
        <div class="adv-content move-div" id="adv-content1" data-config="7" style=" top: 50px; left: 30px; width:300px; height: 320px;">
            <div class="moveDiv-nameIco hide flex">
                <h3>广告位</h3>
                <div class="setClose-ico">
                    <p class="hide"><i>设置</i><i>删除</i></p>
                    <span class="iconfont icon-ordinaryset"></span> <span class="iconfont icon-guanbi"></span>
                </div>
            </div>
            <h3>派对预告/酒水优惠</h3>
            <div class="adv-img1">
                <img src="images/tx.jpg" alt="">
                <img src="images/tx1.jpg" alt="">
                <img src="images/tx5.jpg" alt="">
            </div>
        </div>
        <div class="adv-content move-div" id="adv-content2" style=" top: 500px; left: 30px; width:300px; height: 320px;">
            <div class="moveDiv-nameIco hide flex">
                <h3>广告位</h3>
                <div class="setClose-ico">
                    <p class="hide"><i>设置</i><i>删除</i></p>
                    <span class="iconfont icon-ordinaryset"></span> <span class="iconfont icon-guanbi"></span>
                </div>
            </div>
            <h3>广告招商</h3>
            <div class="adv-img2">
                <img src="images/tx.jpg" alt="">
                <img src="images/tx1.jpg" alt="">
                <img src="images/tx5.jpg" alt="">
            </div>
        </div>
        <div class="welcome-content move-div" data-config="4" id="welcome-content" style=" left: 600px; top: 0px; width: 800px; height: 100px;">
            <div class="moveDiv-nameIco hide flex">
                <h3>欢迎语</h3>
                <div class="setClose-ico">
                    <p class="hide"><i>设置</i><i>删除</i></p>
                    <span class="iconfont icon-ordinaryset"></span> <span class="iconfont icon-guanbi"></span>
                </div>
            </div>
            <div class="in-welecome-text">
                <span>欢迎光临SHOW8BAR</span>
            </div>
        </div>
        <div class="chat-content move-div hide" data-config="2" id="chat-content" style="left: 600px; top: 100px; width: 800px; height: 500px;">
            <div class="moveDiv-nameIco hide flex">
                <h3>聊天层</h3>
                <div class="setClose-ico">
                    <p class="hide"><i>设置</i><i>删除</i></p>
                    <span class="iconfont icon-ordinaryset"></span> <span class="iconfont icon-guanbi"></span>
                </div>
            </div>
            <div class="message-content-wrap">
                <div class="message-content flex" style=" background: linear-gradient(to right,#f404c9,#333397); ">
                    <img src="images/tx2.jpg" alt="">
                    <div class="message-user-info">
                        <i class="textOverflow">ailisi</i> <span>哈哈哈哈哈奥或或或或或或</span>
                    </div>
                    <span class="send-time">03-02 20:30</span>
                </div>
                <div class="message-content flex" style=" background: linear-gradient(to right,#b545f2,#f96abc);">
                    <img src="images/tx3.jpg" alt="">
                    <div class="message-user-info">
                        <i class="textOverflow">没控啊</i> <span>哈哈哈哈哈奥或或或或或或</span>
                    </div>
                    <span class="send-time">03-02 20:30</span>
                </div>
                <div class="message-content flex" style=" background: linear-gradient(to right,#7b21ff,#41f2ae);">
                    <img src="images/tx4.jpg" alt="">
                    <div class="message-user-info">
                        <i class="textOverflow">对面太肉了</i> <span>哈哈哈哈哈奥或或或或或或</span>
                    </div>
                    <span class="send-time">03-02 20:30</span>
                </div>
                <div class="message-content pa-hasimg-content flex" style=" background: linear-gradient(to right,#7b21ff,#41f2ae);">
                    <img src="images/tx5.jpg" alt="">
                    <div class="message-user-info">
                        <i class="textOverflow">中路一波推了</i> <span>重金霸屏20秒：嗨起来吧，Every Body</span>
                        <img src="images/tx.jpg" alt="">
                    </div>
                    <span class="send-time">03-02 20:30</span>
                </div>
                <div class="message-content pa-hastext-content flex" style=" background: linear-gradient(to right,#7b21ff,#41f2ae);">
                    <img src="images/tx5.jpg" alt="">
                    <div class="message-user-info">
                        <i>ailisi</i> <span>重金霸屏20秒：嗨起来吧，Every Body</span>
                    </div>
                    <span class="send-time">03-02 20:30</span>
                </div>
            </div>
        </div>
        <div class="rank-content move-div hide" data-config="1" id="rank-content" style="left: 1550px; top: 50px;  width: 350px;">
            <div class="moveDiv-nameIco hide flex">
                <h3>排行榜</h3>
                <div class="setClose-ico">
                    <p class="hide"><i>设置</i><i>删除</i></p>
                    <span class="iconfont icon-ordinaryset"></span> <span class="iconfont icon-guanbi"></span>
                </div>
            </div>
            <div class="rank-content-wrap">
                <div class="rank-top-msg flex">
                    <img src="images/tx.jpg" alt="">
                    <div class="textOverflow">
                        <h3 class="textOverflow">SHOW8BAR排行榜</h3>
                        <p>实时更新·Live Update</p>
                    </div>
                </div>
                <ul>
                    <li class="flex">
                        <div class="bg-percentage" style="width: 100%;"></div>
                        <div class="rank-user-status flex">
                            <img src="images/tx.jpg" alt=""> <i class="textOverflow">borro</i>
                            <span class="iconfont icon-zuanshi">1212</span>
                        </div>
                    </li>
                    <li class="flex">
                        <div class="bg-percentage" style="width: 85%;"></div>
                        <div class="rank-user-status flex">
                            <img src="images/tx.jpg" alt=""> <i class="textOverflow">borro</i>
                            <span class="iconfont icon-zuanshi">1212</span>
                        </div>
                    </li>
                    <li class="flex">
                        <div class="bg-percentage" style="width: 60%;"></div>
                        <div class="rank-user-status flex">
                            <img src="images/tx.jpg" alt=""> <i class="textOverflow">borro</i>
                            <span class="iconfont icon-zuanshi">1212</span>
                        </div>
                    </li>
                    <li class="flex">
                        <div class="bg-percentage" style="width: 40%;"></div>
                        <div class="rank-user-status flex">
                            <img src="images/tx.jpg" alt=""> <i class="textOverflow">borro</i>
                            <span class="iconfont icon-zuanshi">1212</span>
                        </div>
                    </li>
                    <li class="flex">
                        <div class="bg-percentage" style="width: 20%;"></div>
                        <div class="rank-user-status flex">
                            <img src="images/tx.jpg" alt=""> <i class="textOverflow">borro</i>
                            <span class="iconfont icon-zuanshi">1212</span>
                        </div>
                    </li>
                </ul>
                <span>嗨撩技术支持</span>
            </div>
        </div>
        <div class="hiChat-content flex move-div hide" data-config="3" id="hiChat-content" style="left: 1550px; top:600px; width: 350px;">
            <div class="moveDiv-nameIco hide flex">
                <h3>二维码层</h3>
                <div class="setClose-ico">
                    <p class="hide"><i>设置</i><i>删除</i></p>
                    <span class="iconfont icon-ordinaryset"></span> <span class="iconfont icon-guanbi"></span>
                </div>
            </div>
            <div class="qrcode-imgwrap">
                <img src="images/qrcode.png" alt="">
            </div>
            <div class="hiChat-text">
                <p>扫码进入</p>
                <p>嗨撩大屏幕</p>
                <span>Welcome To HiChat</span>
            </div>
        </div>
        <div class="carousel-content fade-carousel hide" data-config="5" id="carousel-content" style="left: 100px; top: 100px; height: 500px;width: 300px;">
            <div class="moveDiv-nameIco hide flex">
                <h3>轮播图</h3>
                <div class="setClose-ico">
                    <p class="hide"><i>设置</i><i>删除</i></p>
                    <span class="iconfont icon-ordinaryset"></span> <span class="iconfont icon-guanbi"></span>
                </div>
            </div>
            <img src="images/tx1.jpg" alt="">
            <img src="images/tx2.jpg" alt="">
            <img src="images/tx3.jpg" alt="">
            <img src="images/tx4.jpg" alt="">
        </div>
        <div class="screen-setting-panel hide" id="screen-setting-panel">
            <div class="settint-panel-title">
                <span>大屏幕设置</span> <i class="iconfont icon-guanbi"></i>
            </div>
            <div class="panel-content">
                <ul class="panel-list">
                    <li class="active">霸屏设置</li>
                    <li>屏幕设置</li>
                </ul>
                <div class="panel-setting-input">
                    <div class="pa-setting">
                        <div class="pa-set-input flex">
                            <span>风格</span>
                            <div>
                                <label> <input name="style-radio" type="radio"> <span>横款</span> </label> <label>
                                <input name="style-radio" type="radio"> <span>竖款</span> </label> <label>
                                <input name="style-radio" type="radio"> <span>兼容款</span> </label> <label>
                                <input name="style-radio" type="radio"> <span>纯文字款</span> </label>
                            </div>
                        </div>
                        <div class="pa-set-input flex">
                            <span>效果</span>
                            <div>
                                <label> <input name="effect-radio" type="radio"> <span>炫酷</span></label> <label>
                                <input name="effect-radio" type="radio"> <span>简洁</span> </label>
                            </div>
                        </div>
                        <button class="save">保存</button>
                    </div>
                    <div class="screen-setting hide">
                        <div class="screen-bg-set flex">
                            <span>屏幕背景</span>
                            <div>
                                <label> <input name="bg-radio" type="radio"> <span>视频</span></label> <label>
                                <input name="bg-radio" type="radio"> <span>图片</span> </label> <label>
                                <input name="bg-radio" type="radio"> <span>黑色背景</span> </label> <label>
                                <input name="bg-radio" type="radio"> <span>无背景</span> </label>
                            </div>
                        </div>
                        <div class="brightness flex ">
                            <span>屏幕亮度</span> <input type="range"/>
                        </div>
                        <div class="rp-set">
                            <span>屏幕分辨率</span>
                            <input type="number"/><i>x</i><input type="number"/>
                        </div>
                        <div class="screen-website">
                            <span>屏幕地址</span> <input type="url"/>
                        </div>
                        <div class="programme-name">
                            <span>方案名称</span> <input type="text"/>
                        </div>
                        <div class="programme-name">
                            <span>方案名称</span> <input type="text"/>
                        </div>
                        <div class="programme-name">
                            <span>方案名称</span> <input type="text"/>
                        </div>
                        <button class="save">保存</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="moveDiv-config hide flex">
            <div data-config="1" class="rank-config hide">
                <div class="settint-panel-title">
                    <span>排行榜设置</span> <i class="iconfont icon-guanbi"></i>
                </div>
                <div class="rank-config-content">
                    <div class="rank-title">
                        <span>标题</span> <input type="text"/>
                    </div>
                    <div class="update-fre">
                        <span>更新频率</span> <label> <input type="radio"/> <span>5分钟</span> </label> <label>
                        <input type="radio"/> <span>10分钟</span> </label>
                    </div>
                    <div class="show-peoplenum">
                        <span>显示人数</span>
                        <select>
                            <option>5</option> <option>10</option>
                        </select>
                    </div>
                    <div class="width-per">
                        <span>宽度百分比</span> <input type="number" min="0" max="100"/>%
                    </div>
                </div>
            </div>
            <div data-config="2" class="chat-config hide">
                <div class="settint-panel-title">
                    <span>聊天层设置</span> <i class="iconfont icon-guanbi"></i>
                </div>
                <div class="chat-config-content">
                    <div class="version">
                        <span>版本</span> <label> <input type="radio"/> <span>弹幕版</span> </label> <label>
                        <input type="radio"/> <span>炫彩版</span> </label>
                    </div>
                    <div class="fontSize">
                        <p><span>字体大小</span>18px</p>
                        <input type="range"/>
                    </div>
                    <div class="message-scroll">
                        <span>消息滚动</span> <label class="label-switch"> <input type="checkbox" checked>
                        <div class="checkbox"></div>
                    </label>
                    </div>
                    <div class="scroll-time">
                        <p><span>滚动间隔时间</span>5秒</p>
                        <input type="range"/>
                    </div>
                </div>
            </div>
            <div data-config="3" class="qrcode-config hide">
                <div class="settint-panel-title">
                    <span>二维码属性</span> <i class="iconfont icon-guanbi"></i>
                </div>
                <div class="qrcode-config-content">
                    <div class="img-width">
                        <span>图片宽度（倍数）</span>
                        <select>
                            <option>0.5</option>
                            <option>1.5</option>
                        </select>
                    </div>
                    <div class="img-height">
                        <span>图片高度（倍数）</span>
                        <select>
                            <option>0.5</option>
                            <option>1.5</option>
                        </select>
                    </div>
                </div>
            </div>
            <div data-config="4" class="welecome-config hide">
                <div class="settint-panel-title">
                    <span>欢迎语属性</span> <i class="iconfont icon-guanbi"></i>
                </div>
                <div class="welecome-config-content">
                    <div class="welecome-text">
                        <span>欢迎语</span> <input type="text"/>
                    </div>
                    <div class="welecome-fontsize">
                        <span>字体大小</span>
                        <select>
                            <option>30</option>
                            <option>40</option>
                        </select>
                    </div>
                    <div class="width-per">
                        <span>宽度百分比</span> <input type="number" min="0" max="100"/>%
                    </div>
                    <div class="height-per">
                        <span>高度百分比</span> <input type="number" min="0" max="100"/>%
                    </div>
                </div>
            </div>
            <div data-config="5" class="carousel-config hide">
                <div class="settint-panel-title">
                    <span>图片轮播属性</span> <i class="iconfont icon-guanbi"></i>
                </div>
                <div class="carousel-config-content">
                    <div class="carousel-fre flex">
                        <span>轮播频率</span>
                        <select>
                            <option>5秒</option>
                            <option>10秒</option>
                        </select>
                    </div>
                    <div class="carousel-style flex">
                        <span>轮播频率</span>
                        <select>
                            <option>0.5</option>
                            <option>1.5</option>
                        </select>
                    </div>
                    <div class="width-per">
                        <span>宽度百分比</span> <input type="number" min="0" max="100"/>%
                    </div>
                    <div class="height-per">
                        <span>高度百分比</span> <input type="number" min="0" max="100"/>%
                    </div>
                </div>
            </div>
            <div data-config="6" class="logo-config hide">
                <div class="settint-panel-title">
                    <span>logo层属性设置</span> <i class="iconfont icon-guanbi"></i>
                </div>
                <div class="logo-config-content">
                    <div class="logo-upload flex">
                        <span>logo上传</span>
                        <i>上传</i>
                    </div>
                    <div class="img-width">
                        <span>图片宽度（倍数）</span>
                        <select>
                            <option>0.5</option>
                            <option>1.5</option>
                        </select>
                    </div>
                    <div class="img-height">
                        <span>图片高度（倍数）</span>
                        <select>
                            <option>0.5</option>
                            <option>1.5</option>
                        </select>
                    </div>
                </div>
            </div>
            <div data-config="7" class="adv1-config hide">
                <div class="settint-panel-title">
                    <span>1号广告位设置</span> <i class="iconfont icon-guanbi"></i>
                </div>
                <div class="adv1-config-content">
                    <div class="adv1-title">
                        <span>广告标题</span><input type="text"/>
                    </div>
                    <div class="img-tab-second">
                        <span>图片切换秒数</span>
                        <select>
                            <option>5秒</option>
                            <option>8秒</option>
                            <option>10秒</option>
                        </select>
                    </div>
                    <div class="upload-advimg">
                        <span>上传广告图片</span>
                        <ul class="flex">
                            <li><img src="images/tx1.jpg" alt=""></li>
                            <li><img src="images/tx1.jpg" alt=""></li>
                            <li>+</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="js/jquery-3.2.1.min.js"></script>
<script>
    $(function(){
        var onOff = true;
        $('#control-element').click(function(){
            if(onOff){
                $(this).parent('aside').removeClass('aside-rightToleft').addClass('aside-leftToright');
                $(this).attr('class', 'iconfont icon-aside-left');
                onOff = !onOff;
            } else {
                $(this).parent('aside').removeClass('aside-leftToright').addClass('aside-rightToleft');
                $(this).attr('class', 'iconfont icon-aside-right');
                onOff = !onOff;
            }
        })
    })
    $('.move-div .moveDiv-nameIco').find('.icon-ordinaryset').click(function(){
        var moveDiv_dc=$(this).parents('.move-div').attr("data-config");
        $('.moveDiv-config').removeClass('hide');
        $('.moveDiv-config > div').each(function(){
            if($(this).attr('data-config')==moveDiv_dc){
                $(this).removeClass('hide');
            }
        })
    })
</script>
<script>
    var onOff = false;
    $('#onOff-setting').click(function(){
        onOff = true;
        if(onOff){
            $(this).css({
                background : 'linear-gradient(to right,#fe47a4,#b944ee)'
            })
        }
        $('#screen-setting-panel').removeClass('hide');
    })

    $('#isMove').click(function(){
        if($(this).is(':checked')){
            $('#isScale').attr("disabled",true);
            $('.move-div').hover(function(){
                $(this).css({
                    border : '2px dashed #FFF'
                })
                $(this).find('.moveDiv-nameIco').removeClass('hide')
            }, function(){
                $(this).css({
                    border : 'none'
                })
                $(this).find('.moveDiv-nameIco').addClass('hide')
            });
        } else {
            $('.move-div').unbind();
            $('#isScale').attr("disabled",false);
        }
    })
    $('.setClose-ico').find('span').hover(function(){
        $('.setClose-ico').find('p').removeClass('hide')
    }, function(){
        $('.setClose-ico').find('p').addClass('hide')
    })
    /*拖动改变高度、宽度*/
    var changeWh = function (dragObj){
        var xborderPoi, yborderPoi, isResizing = false, changeW;
        $(dragObj).on('mousedown', function(e){
            isResizing = true;
            xborderPoi = $(this).width() + $(this).offset().left;
            yborderPoi = $(this).height() + $(this).offset().top;
        })
        $(document).on('mousemove', function(e){
            xborderPoi = $(dragObj).width() + $(dragObj).offset().left;
            yborderPoi = $(dragObj).height() + $(dragObj).offset().top;
            if(e.clientX >= xborderPoi - 5){
                if($('#isScale').is(':checked')){
                    $(dragObj).css({
                        cursor : 'w-resize'
                    })
                }
                if(!isResizing)
                    return;
                changeW = e.clientX - $(dragObj).offset().left;
                $(dragObj).innerWidth(changeW);
            } else {
                $(dragObj).css({
                    cursor : 'auto'
                })
            }
            if(e.clientY >= yborderPoi - 5){
                if($('#isScale').is(':checked')){
                    $(dragObj).css({
                        cursor : 'n-resize'
                    })
                }
                if(!isResizing)
                    return;

                changeH = e.clientY - $(dragObj).offset().top;
                $(dragObj).innerHeight(changeH);
            } else {
                $(dragObj).css({
                    cursor : 'auto'
                })
            }
        }).on('mouseup', function(e){
            isResizing = false;
        })
    }

    $('#isScale').click(function(){
        if($(this).is(':checked')){
            $('#isMove').attr("disabled",true);
            $('.move-div').hover(function(){
                $(this).css({
                    border : '2px dashed #FFF'
                })
            }, function(){
                $(this).css({
                    border : 'none'
                })
            });
            changeWh('#adv-content1');
            changeWh('#adv-content2');
            changeWh('#chat-content');
            changeWh('#welcome-content');
            changeWh('#rank-content');
            changeWh('#hiChat-content');
        }else {
            $('#isMove').attr("disabled",false);
            $('.move-div').off();
        }
    })
    /*屏幕功能层移动*/
    var rDrag = {
        o : null,
        init : function(o){
            o.onmousedown = this.start;
        },
        start : function(e){
            var o;
            e = rDrag.fixEvent(e);
            e.preventDefault && e.preventDefault();
            rDrag.o = o = this;
            o.x = e.clientX - rDrag.o.offsetLeft;
            o.y = e.clientY - rDrag.o.offsetTop;
            if($('#isMove').is(':checked')){
                document.onmousemove = rDrag.move;
            }
            l = rDrag.o.style.left;
            t = rDrag.o.style.top;
            document.onmouseup = rDrag.end;
        },
        move : function(e){
            var screen_width = document.body.offsetWidth;
            console.log(screen_width);
            var screen_height = document.body.offsetHeight;
            e = rDrag.fixEvent(e);
            var oLeft, oTop;
            oLeft = e.clientX - rDrag.o.x;
            oTop = e.clientY - rDrag.o.y;
            if(oLeft <= 0){
                oLeft = 0;
            }
            if(oTop <= 0){
                oTop = 0;
            }
            if(screen_width - rDrag.o.offsetWidth <= oLeft){
                oLeft = screen_width - rDrag.o.offsetWidth;
            }
            if(screen_height - rDrag.o.offsetHeight <= oTop){
                oTop = screen_height - rDrag.o.offsetHeight;
            }
            rDrag.o.style.left = oLeft + 'px';
            rDrag.o.style.top = oTop + 'px';
        },
        end : function(e){
            e = rDrag.fixEvent(e);
            if(l == rDrag.o.style.left && t == rDrag.o.style.top){
                rDrag.o = document.onmousemove = document.onmouseup = null;
            } else {
                $('.szwz-page-content > div').unbind('click');
                rDrag.o = document.onmousemove = document.onmouseup = null;
            }
        },
        fixEvent : function(e){
            if(!e){
                e = window.event;
                e.target = e.srcElement;
                e.layerX = e.offsetX;
                e.layerY = e.offsetY;
            }
            return e;
        }
    }
    window.onload = function(){
        //var obj = document.getElementById('tt1');
        //rDrag.init(obj);
        rDrag.init(document.getElementById('adv-content1'));
        rDrag.init(document.getElementById('adv-content2'));
        rDrag.init(document.getElementById('welcome-content'));
        rDrag.init(document.getElementById('chat-content'));
        rDrag.init(document.getElementById('rank-content'));
        rDrag.init(document.getElementById('hiChat-content'));
    }
    window.onResize = function(){
        //var obj = document.getElementById('tt1');
        //rDrag.init(obj);
        rDrag.init(document.getElementById('adv-content1'));
        rDrag.init(document.getElementById('adv-content2'));
        rDrag.init(document.getElementById('welcome-content'));
        rDrag.init(document.getElementById('chat-content'));
        rDrag.init(document.getElementById('rank-content'));
        rDrag.init(document.getElementById('hiChat-content'));
    }

    /*侧栏拖放*/
    var eleChat = $("#main-content")[0], eleDrags = $(".draglist"), lDrags = eleDrags.length, eleDrag = null;
    for(var i = 0; i < lDrags; i += 1){
        eleDrags[i].onselectstart = function(){
            return false;
        };
        eleDrags[i].ondragstart = function(ev){
            /*拖拽开始*/
            //拖拽效果
            ev.dataTransfer.effectAllowed = "move";
            ev.dataTransfer.setData("text", ev.target.id);
            eleDrag = ev.target;
            return true;
        };
        eleDrags[i].ondragend = function(ev){
            /*拖拽结束*/
            var dargeleX = ev.clientX;
            var dargeleY = ev.clientY;
            var screen_width = document.body.offsetWidth;
            var screen_height = document.body.offsetHeight;
            if(dargeleX <= 0){
                dargeleX = 0;
            }
            if(dargeleY <= 0){
                dargeleY = 0;
            }
            ev.dataTransfer.clearData("text");
            switch(ev.target.id){
                case "drag-rank":
                    $('.rank-content').removeClass('hide');
                    if(screen_width <= dargeleX + $('.rank-content').outerWidth()){
                        dargeleX = screen_width - $('.rank-content').outerWidth();
                    }
                    if(screen_height <= dargeleY + $('.rank-content').outerHeight()){
                        dargeleY = screen_height - $('.rank-content').outerHeight();
                    }
                    $('.rank-content').css({
                        left : dargeleX,
                        top : dargeleY
                    });
                    break;
                case "drag-chat":
                    $('.chat-content').removeClass('hide');
                    if(screen_width <= dargeleX + $('.chat-content').outerWidth()){
                        dargeleX = screen_width - $('.chat-content').outerWidth();
                    }
                    if(screen_height <= dargeleY + $('.chat-content').outerHeight()){
                        dargeleY = screen_height - $('.chat-content').outerHeight();
                    }
                    $('.chat-content').css({
                        left : dargeleX,
                        top : dargeleY
                    });
                    break;
                case "drag-qrcode":
                    $('.hiChat-content').removeClass('hide');
                    if(screen_width <= dargeleX + $('.hiChat-content').outerWidth()){
                        dargeleX = screen_width - $('.hiChat-content').outerWidth();
                    }
                    if(screen_height <= dargeleY + $('.hiChat-content').outerHeight()){
                        dargeleY = screen_height - $('.hiChat-content').outerHeight();
                    }
                    $('.hiChat-content').css({
                        left : dargeleX,
                        top : dargeleY
                    });
                    break;
                case "drag-welcome":
                    $('.welcome-content').removeClass('hide');
                    if(screen_width <= dargeleX + $('.welcome-content').outerWidth()){
                        dargeleX = screen_width - $('.welcome-content').outerWidth();
                    }
                    if(screen_height <= dargeleY + $('.welcome-content').outerHeight()){
                        dargeleY = screen_height - $('.welcome-content').outerHeight();
                    }
                    $('.welcome-content').css({
                        left : dargeleX,
                        top : dargeleY
                    });
                    break;
            }
            eleDrag = null;
            return false
        };
    }
    eleChat.ondragover = function(ev){
        /*拖拽元素在目标元素头上移动的时候*/
        ev.preventDefault();
        return true;
    };
    eleChat.ondragenter = function(ev){
        /*拖拽元素进入目标元素头上的时候*/
        return true;
    }
    eleChat.ondrop = function(ev){
        /*拖拽元素进入目标元素头上，同时鼠标松开的时候*/
        if(eleDrag){
            /*...*/
        }
    }

    /*屏幕设置切换*/
    $(function(){
        $('.panel-list').find('li').click(function(){
            var panel_list_index = $(this).index();
            $('.panel-list').find('li').removeClass('active');
            $(this).addClass('active');
            $('.panel-setting-input > div').addClass('hide').eq(panel_list_index).removeClass('hide');
        })
    })
    $('.screen-setting-panel').find('.icon-guanbi').click(function(){
        $(this).parents('.screen-setting-panel').addClass('hide');
        $('#onOff-setting').css({
            background : 'transparent'
        })
    })

    /*配置层关闭*/
    $('.moveDiv-config').find('.icon-guanbi').click(function(){
        $(this).parents('.moveDiv-config').addClass('hide');
        $(this).parent().parent().addClass('hide');
    })

    /*图片轮播淡入淡出*/
    function imgFadeAni(obj){
        var img_index = 0;
        setInterval(function(){
            img_index++;
            if(img_index >= $(obj + ' > img').length){
                img_index = 0;
            }
            $(obj + ' > img').eq(img_index - 1).removeClass('fade-In').addClass('fade-Out');
            $(obj + ' > img').eq(img_index).removeClass('fade-Out').addClass('fade-In');
        }, 3000)
    }
    imgFadeAni('.fade-carousel')
    imgFadeAni('.adv-img1')
    imgFadeAni('.adv-img2')

/*文字滚动效果*/

</script>
</body>
</html>